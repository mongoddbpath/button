(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-689ca426"],{"09db":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("9bd2");function s(e){return Object(a["a"])({url:"/admin/userAddSite",method:"post",data:e})}},1148:function(e,t,r){"use strict";var a=r("a691"),s=r("1d80");e.exports="".repeat||function(e){var t=String(s(this)),r="",n=a(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r}},"1cc5":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("9bd2");function s(e){return Object(a["a"])({url:"/node/list",method:"get",params:e,withCredentials:!0})}},"408a":function(e,t,r){var a=r("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=a(e))throw TypeError("Incorrect invocation");return+e}},"8a7a":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("9bd2");function s(e){return Object(a["a"])({url:"/product/getAll",method:"post",data:e})}},"91df":function(e,t,r){},b680:function(e,t,r){"use strict";var a=r("23e7"),s=r("a691"),n=r("408a"),i=r("1148"),o=r("d039"),l=1..toFixed,c=Math.floor,u=function(e,t,r){return 0===t?r:t%2===1?u(e,t-1,r*e):u(e*e,t/2,r)},m=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},d=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){l.call({})}));a({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,r,a,o,l=n(this),d=s(e),p=[0,0,0,0,0,0],f="",v="0",h=function(e,t){var r=-1,a=t;while(++r<6)a+=e*p[r],p[r]=a%1e7,a=c(a/1e7)},g=function(e){var t=6,r=0;while(--t>=0)r+=p[t],p[t]=c(r/e),r=r%e*1e7},b=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==p[e]){var r=String(p[e]);t=""===t?r:t+i.call("0",7-r.length)+r}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(t=m(l*u(2,69,1))-69,r=t<0?l*u(2,-t,1):l/u(2,t,1),r*=4503599627370496,t=52-t,t>0){h(0,r),a=d;while(a>=7)h(1e7,0),a-=7;h(u(10,a,1),0),a=t-1;while(a>=23)g(1<<23),a-=23;g(1<<a),h(1,1),g(2),v=b()}else h(0,r),h(1<<-t,0),v=b()+i.call("0",d);return d>0?(o=v.length,v=f+(o<=d?"0."+i.call("0",d-o)+v:v.slice(0,o-d)+"."+v.slice(o-d))):v=f+v,v}})},baa5:function(e,t,r){var a=r("23e7"),s=r("e58c");a({target:"Array",proto:!0,forced:s!==[].lastIndexOf},{lastIndexOf:s})},c790:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("9bd2");function s(e){return Object(a["a"])({url:"/user/list?page=".concat(e),method:"get",withCredentials:!0})}},c86a:function(e,t,r){"use strict";var a=r("91df"),s=r.n(a);s.a},cc05:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("9bd2");function s(e){return Object(a["a"])({url:"/site/create",method:"post",data:e})}},d976:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("d2-container",{attrs:{type:"card"}},[r("el-row",[r("el-col",{attrs:{span:16,offset:4}},[r("el-steps",{attrs:{active:e.active,"finish-status":"success","align-center":""}},[r("el-step",{attrs:{title:"填写网站信息"}}),r("el-step",{attrs:{title:"填写业务信息(可跳过)"}}),r("el-step",{attrs:{title:"提交"}})],1)],1)],1),r("el-row",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active==0"}],staticClass:"formv"},[r("el-col",{attrs:{span:e.spanok,offset:e.offsetok}},[r("el-form",{ref:"rulesForm2",attrs:{model:e.rulesForm2,rules:e.rules2}},[r("el-form-item",{attrs:{required:"",prop:"appNameOK"}},[r("div",{staticClass:"typename required"},[e._v("类型：")]),r("el-select",{attrs:{placeholder:"竞价站一般用来做竞价"},model:{value:e.rulesForm.appNameOK,callback:function(t){e.$set(e.rulesForm,"appNameOK",t)},expression:"rulesForm.appNameOK"}},e._l(e.appName1,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),e.checkid?r("el-form-item",[r("div",{staticClass:"typename required"},[e._v("测试站：")]),r("el-radio-group",{model:{value:e.rulesForm.isTest,callback:function(t){e.$set(e.rulesForm,"isTest",t)},expression:"rulesForm.isTest"}},[r("el-radio",{attrs:{label:0}},[e._v("否")]),r("el-radio",{attrs:{label:1}},[e._v("是")])],1)],1):e._e(),r("el-form-item",{attrs:{prop:"domain",required:""}},[r("div",{staticClass:"typename required"},[e._v(e._s(e.domaintitle))]),r("el-input",{attrs:{placeholder:e.domainmessage},model:{value:e.rulesForm.domain,callback:function(t){e.$set(e.rulesForm,"domain",t)},expression:"rulesForm.domain"}})],1),r("el-form-item",{attrs:{required:"",prop:"serve"}},[r("div",{staticClass:"typename required"},[e._v("服务器：")]),r("el-select",{attrs:{filterable:"",placeholder:"只有竞价站部署本机服务器"},model:{value:e.serve,callback:function(t){e.serve=t},expression:"serve"}},e._l(e.serve1,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",{attrs:{required:"",prop:"plan"}},[r("div",{staticClass:"typename required"},[e._v("套餐：")]),r("el-select",{attrs:{filterable:""},model:{value:e.rulesForm.plan,callback:function(t){e.$set(e.rulesForm,"plan",t)},expression:"rulesForm.plan"}},e._l(e.plan1,(function(e,t){return r("el-option",{key:t,attrs:{type:"String",label:e.nameok,value:e.id}})})),1)],1),r("el-form-item",{attrs:{required:""}},[r("div",{staticClass:"typename required"},[e._v("合同时间：")]),r("div",{staticClass:"time1"},[r("el-form-item",{staticStyle:{margin:"0"},attrs:{prop:"startTime"}},[r("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"开始日期"},model:{value:e.rulesForm.startTime,callback:function(t){e.$set(e.rulesForm,"startTime",t)},expression:"rulesForm.startTime"}})],1)],1),r("div",{staticClass:"timeok"},[e._v("至")]),r("div",{staticClass:"time2"},[r("el-form-item",{staticStyle:{margin:"0"},attrs:{prop:"endTime"}},[r("el-date-picker",{attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",type:"date",placeholder:"结束日期","picker-options":e.pickerOptions1},model:{value:e.rulesForm.endTime,callback:function(t){e.$set(e.rulesForm,"endTime",t)},expression:"rulesForm.endTime"}})],1)],1)]),r("el-form-item",[r("div",{staticClass:"buttonok2"},[r("el-button",{staticClass:"buttonok",attrs:{type:"primary"},on:{click:e.next1}},[e._v("下一步")])],1)])],1)],1)],1),r("el-row",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active==1"}],staticClass:"formv"},[r("el-col",{attrs:{span:e.spanok,offset:e.offsetok}},[r("el-form",{ref:"rulesForm3",attrs:{model:e.rulesForm3,rules:e.rules3}},[r("el-form-item",[r("div",{staticClass:"typename"},[e._v("维护者：")]),r("el-select",{attrs:{placeholder:"指派成功后该用户将获得网站的控制权"},model:{value:e.rulesForm.kf,callback:function(t){e.$set(e.rulesForm,"kf",t)},expression:"rulesForm.kf"}},e._l(e.kf1,(function(e,t){return r("el-option",{key:t,attrs:{label:e.username,value:e.id}})})),1)],1),r("el-form-item",[r("div",{staticClass:"typename"},[e._v("业务员：")]),r("el-select",{attrs:{placeholder:"请选择业务员"},model:{value:e.rulesForm.ywy,callback:function(t){e.$set(e.rulesForm,"ywy",t)},expression:"rulesForm.ywy"}},e._l(e.ywy1,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",[r("div",{staticClass:"typename"},[e._v("公司名：")]),r("el-input",{attrs:{placeholder:"请输入某某某公司"},model:{value:e.rulesForm.company,callback:function(t){e.$set(e.rulesForm,"company",t)},expression:"rulesForm.company"}})],1),r("el-form-item",{attrs:{prop:"seoKeyWords"}},[r("div",{staticClass:"typename"},[e._v("关键词：")]),r("el-input",{attrs:{type:"textarea",placeholder:"例子：seo,广州seo,广州网站建设"},model:{value:e.rulesForm.seoKeyWords,callback:function(t){e.$set(e.rulesForm,"seoKeyWords",t)},expression:"rulesForm.seoKeyWords"}})],1),r("div",{staticStyle:{margin:"15px 0"}}),r("el-form-item",[r("div",{staticClass:"typename"},[e._v("生成语种：")]),r("el-checkbox-button",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(" 全选 ")]),r("div",{staticStyle:{margin:"15px 0"}}),r("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}},e._l(e.cities,(function(t){return r("el-checkbox-button",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),r("el-form-item",{attrs:{prop:"note"}},[r("div",{staticClass:"typename"},[e._v("网站备注：")]),r("el-input",{attrs:{type:"textarea",placeholder:"如果是百度竞价站点请输入百度竞价站点名称简写"},model:{value:e.rulesForm.note,callback:function(t){e.$set(e.rulesForm,"note",t)},expression:"rulesForm.note"}})],1),r("el-form-item",[r("div",{staticClass:"buttonok2"},[r("el-button",{staticClass:"buttonok",attrs:{type:"primary"},on:{click:e.next2}},[e._v("下一步")]),r("el-button",{staticClass:"buttonok prevbutton",attrs:{type:"warning"},on:{click:e.prev}},[e._v("上一步")]),r("el-button",{staticClass:"buttonok skip",attrs:{type:"primary"},on:{click:function(t){e.active=2}}},[e._v("跳过")])],1)])],1)],1)],1),r("el-row",{directives:[{name:"show",rawName:"v-show",value:2==e.active,expression:"active==2"}],staticClass:"formv"},[r("el-col",{attrs:{span:e.spanok,offset:e.offsetok}},[r("div",{staticClass:"infoCurrent"},[r("el-row",[r("el-col",[r("p",{staticClass:"infoCurrentOK"},[e._v("订单金额："+e._s(e.planmoney))]),r("el-collapse",{attrs:{accordion:""}},[r("el-collapse-item",[r("template",{slot:"title"},[e._v(" 订单信息："+e._s(e.isTestOK)+" ")]),"企业站"===e.rulesForm.appNameOK?r("p",[e._v("域名："+e._s(e.rulesForm.domain))]):e._e(),"竞价站"===e.rulesForm.appNameOK?r("p",[e._v("域名："+e._s("ztb.net/"+e.rulesForm.domain))]):e._e(),r("p",[e._v("网站套餐："+e._s(e.rulesForm.planname))]),r("p",[e._v("合同开启时间："+e._s(e.rulesForm.startTime))]),r("p",[e._v("合同结束时间："+e._s(e.rulesForm.endTime))]),r("p",[e._v("公司名："+e._s(e.rulesForm.company))]),r("p",[e._v("维护者："+e._s(e.rulesForm.kfname))]),r("p",[e._v("业务员："+e._s(e.rulesForm.ywy))]),r("p",[e._v("关键词："+e._s(e.rulesForm.seoKeyWords))]),r("p",[e._v("语种："+e._s(e.getlang||"中文"))]),r("p",[e._v("备注："+e._s(e.rulesForm.note))])],2)],1)],1)],1)],1),r("div",{staticClass:"buttonok2",staticStyle:{"margin-top":"20px"}},[r("el-button",{staticClass:"buttonok",attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交订单")]),r("el-button",{staticClass:"buttonok prevbutton",attrs:{type:"warning"},on:{click:e.prev}},[e._v("上一步")])],1)])],1),r("el-row",{directives:[{name:"show",rawName:"v-show",value:88==e.active,expression:"active==88"}],staticClass:"formv"},[r("el-col",{attrs:{span:e.spanok,offset:e.offsetok}},[r("div",{staticClass:"infoCurrent fail"},[r("el-row",[r("img",{attrs:{src:"https://www.chuangli.net/saascms/fail.png"}}),r("p",[e._v(e._s(e.rulesForm.domain)+"您提交的内容有如下错误:")]),101===e.errorcode?r("p",[r("img",{staticClass:"f1",attrs:{src:"https://www.chuangli.net/saascms/fail.png"}}),r("span",{staticClass:"f2"},[e._v("余额不足，请充值")]),r("a",{staticClass:"f3",on:{click:e.rechargeadd}},[e._v(" 立即充值 >")])]):e._e(),r("br"),100===e.errorcode?r("p",[r("img",{staticClass:"f1",attrs:{src:"https://www.chuangli.net/saascms/fail.png"}}),r("span",{staticClass:"f2"},[e._v("网站名重复")]),r("a",{staticClass:"f3",on:{click:function(t){e.active=0}}},[e._v(" 立即修改 >")])]):e._e(),r("br"),102===e.errorcode?r("p",[r("img",{staticClass:"f1",attrs:{src:"https://www.chuangli.net/saascms/fail.png"}}),r("span",{staticClass:"f2"},[e._v("当前账号异常，无法创建")]),r("a",{staticClass:"f3",on:{click:function(t){e.active=0}}},[e._v(" 立即修改 >")])]):e._e(),r("el-button",{staticClass:"gotoweblist",attrs:{type:"primary"},on:{click:function(t){e.active=0}}},[e._v("返回修改")])],1)],1)])],1),r("el-row",{directives:[{name:"show",rawName:"v-show",value:100==e.active,expression:"active==100"}],staticClass:"formv"},[r("el-col",{attrs:{span:e.spanok,offset:e.offsetok}},[r("div",{staticClass:"infoCurrent success"},[r("el-row",[r("img",{attrs:{src:"https://www.chuangli.net/saascms/success.png"}}),r("p",[e._v(e._s(e.rulesForm.domain)+"建站订单已创建，如有疑问请联系客服")]),r("el-button",{staticClass:"gotoweblist",attrs:{type:"primary"},on:{click:e.gotoweblist}},[e._v("前往查看")])],1)],1)])],1)],1)},s=[],n=(r("99af"),r("4de4"),r("c975"),r("a15b"),r("baa5"),r("d81d"),r("fb6a"),r("b0c0"),r("a9e3"),r("b680"),r("b64b"),r("e25e"),r("5319"),r("1276"),r("159b"),r("8a7a")),i=r("cc05"),o=r("c790"),l=r("09db"),c=r("c276"),u=r("1cc5"),m={data:function(){var e=this,t=function(t,r,a){var s=/^(www\.)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:\d+)*(\/\w+\.\w+)*$/;"企业站"===e.rulesForm.appNameOK?s.test(r)?a():a(new Error("请填写正确的域名格式")):s.test(r)?a(new Error("请不要是域名格式,输入不少于四位数的字符串")):a()},r=function(t,r,a){"企业站"===e.rulesForm.appNameOK&&-1!==e.serve.indexOf("120.24.23.89")?a(new Error("企业站不可以部署在本机服务器上")):"竞价站"===e.rulesForm.appNameOK&&-1===e.serve.indexOf("120.24.23.89")?a(new Error("竞价站需要部署在本机服务器上")):a()},a=function(t,r,a){e.rulesForm.endTime<e.rulesForm.startTime?a(new Error("合同截止时间要大于起始时间")):a()};return{errorcode:"",checkid:2===parseInt(this.$util.cookies.get("uid")),active:0,ssl1:[0,1],ssl2:["不启用Https","启用https，系统自动生成证书并且维护"],ssl3:"",serve1:[],serve:"",hostId1:[],userarr:"",websiteid:"",userid:c["a"].cookies.get("uuid"),rules2:{domain:[{required:!0,message:"必填"},{min:1,max:100,message:"长度过长",trigger:"blur"},{validator:t,trigger:"blur"}],plan:[{required:!0,message:"必选"}],serve:[{required:!0,message:"必选"},{validator:r,trigger:"blur"}],appNameOK:[{required:!0,message:"必选"}],startTime:[{required:!0,message:"必选"}],endTime:[{required:!0,message:"必选"},{validator:a,trigger:"blur"}]},rules3:{company:[{required:!0,message:"必填"}],kf:[{required:!0,message:"必选"}],ywy:[{required:!0,message:"必选"}]},rules:{name:[{required:!0,message:"必填"},{min:4,message:"长度至少为4个字符",trigger:"blur"}],username:[{min:1,max:12,message:"长度至少为1到12个字符",trigger:"blur"}],plan:[{required:!0,message:"必选"}],startTime:[{required:!0,message:"必选"}],endTime:[{required:!0,message:"必选"}]},checkAll:!1,CName:[],lang:[],webCreateName:"",cities:[{id:"zh",name:"中文",lang:"zh"},{id:"en",name:"英语",lang:"en"},{id:"ja",name:"日语",lang:"ja"},{id:"de",name:"德语",lang:"de"},{id:"fr",name:"法语",lang:"fr"},{id:"fa",name:"波斯语",lang:"fa"},{id:"ms",name:"马来西亚语",lang:"ms"},{id:"ru",name:"俄语",lang:"ru"},{id:"th",name:"泰语",lang:"th"},{id:"vi",name:"越南语",lang:"vi"},{id:"ko",name:"朝鲜语",lang:"ko"},{id:"da",name:"丹麦语",lang:"da"},{id:"cdo",name:"闽东语",lang:"cdo"},{id:"id",name:"印尼语",lang:"id"},{id:"pt",name:"葡萄牙语",lang:"pt"},{id:"uk",name:"乌克兰语",lang:"uk"}],isIndeterminate:!0,plan1:[],ywy1:["钟总","杨总","陈总"],kf1:[{id:56,username:"TEMPORARYACCOUNT"}],jz1:["小梅","小安"],appName1:["企业站","竞价站"],pic:"http://www.chuangli.net/style/img/logo.jpg",mburl:"http://www.chuangli.net/",rulesForm:{isTest:0,planname:"",kfname:"",hostId:"",username:"",ssl:0,company:"",uphone:"",qq:"",email:"",address:"",name:"",domain:"",startTime:"",endTime:"",delivery:!1,note:"",plan:"",ywy:"",kf:"",jz:"",money:"",cmoney:"",appNameOK:"企业站",styleId:"styleId",seoKeyWords:""},pickerOptions1:{disabledDate:function(t){return t.getTime()>e.startTime||t.getTime()<Date.now()}}}},computed:{planmoney:function(){var e=this,t="";return t=""!==this.rulesForm.plan?this.plan1.filter((function(t){return t.id===e.rulesForm.plan}))[0].price:0,"".concat(t,"(").concat(this._moneyToMsg(t),")")},isTestOK:function(){return 1===this.rulesForm.isTest?"测试站-".concat(this.serve):"".concat(this.rulesForm.appNameOK,"-").concat(this.serve)},domaintitle:function(){return"企业站"===this.rulesForm.appNameOK?"域名：":"网站名："},domainmessage:function(){return"企业站"===this.rulesForm.appNameOK?"格式推荐：www.***.***":"网站名为四位数以上的字符串"},spanok:function(){return document.body.clientWidth>1500?8:10},offsetok:function(){return document.body.clientWidth>1500?8:7},rulesForm2:function(){return{appNameOK:this.rulesForm.appNameOK,domain:this.rulesForm.domain,name:this.rulesForm.name,serve:this.serve,plan:this.rulesForm.plan,startTime:this.rulesForm.startTime,endTime:this.rulesForm.endTime}},rulesForm3:function(){return{kf:this.rulesForm.kf,ywy:this.rulesForm.ywy,company:this.rulesForm.company}},getlang:function(){for(var e=[],t=0;t<this.cities.length;t++)for(var r=0;r<this.lang.length;r++)this.lang[r]===this.cities[t].id&&e.push(this.cities[t].name);return String(e)}},created:function(){},mounted:function(){var e=this;Object(n["a"])().then((function(t){for(var r=t.data,a=0;a<r.length;a++)r[a].nameok="".concat(r[a].name,"-").concat(r[a].price,"元");e.plan1=r})).catch((function(e){console.dir(e)})),Object(o["a"])().then((function(t){e.userarr=t.data,t.data.length<1||void 0===t.data.length||(e.kf1=e.kf1.concat(t.data))})).catch(),Object(u["a"])().then((function(t){for(var r=t.data,a=["120.24.23.89(本机服务器)"],s=[""],n=0;n<r.length;n++)a.push(r[n].ip+"(".concat(r[n].region,")")+"【".concat(r[n].note,"】"));for(var i=0;i<r.length;i++)s.push(r[i].hostId);e.serve1=a,e.hostId1=s})).catch((function(t){console.dir(t),e.loading=!1,e.$notify({message:"获取数据失败"})}))},methods:{_moneyToMsg:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"upper",r={lower:{num:["零","一","二","三","四","五","六","七","八","九"],unit:["","十","百","千","万"],level:["","万","亿"]},upper:{num:["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],unit:["","拾","佰","仟"],level:["","万","亿"]},decimal:{unit:["分","角"]},maxNumber:999999999999.99};if(Number(e)>r.maxNumber)return console.error("The maxNumber is ".concat(r.maxNumber,". ").concat(e," is bigger than it!")),!1;var a=r[t],s=String(Number(e).toFixed(2)).split("."),n=s[0].split(""),i=0===Number(s[1])?[]:s[1].split(""),o=n.reverse().reduce((function(e,t,r){var s=e[0]&&e[0].length<4?e[0]:[],n="0"===t?a.num[t]:a.num[t]+a.unit[r%4];return s.unshift(n),1===s.length?e.unshift(s):e[0]=s,e}),[]),l=o.reduce((function(e,t,r){var s=a.level[o.length-r-1],n=t.join("").replace(/(零)\1+/g,"$1");return"零"===n?(n="",s=""):"零"===n[n.length-1]&&(n=n.slice(0,n.length-1)),e+n+s}),""),c=i.map((function(e,t){var s=r.decimal.unit,n="0"!==e?s[s.length-t-1]:"";return"".concat(a.num[e]).concat(n)})).join("");return"".concat(l,"元")+(c||"整")},next1:function(){var e=this;this.$refs.rulesForm2.validate((function(t){t&&(e.next(),e.rulesForm.planname=e.plan1.filter((function(t){return t.id===e.rulesForm.plan}))[0].name)}))},next2:function(){var e=this;this.$refs.rulesForm3.validate((function(t){t&&(e.next(),""===e.rulesForm.kf?e.rulesForm.kfname="":e.rulesForm.kfname=e.kf1.filter((function(t){return t.id===e.rulesForm.kf}))[0].username)}))},next:function(){this.active++>2&&(this.active=0)},prev:function(){this.active--<0&&(this.active=0)},gotoweblist:function(){this.$router.push({name:"webcontrol"})},rechargeadd:function(){this.$router.push({name:"rechargeadd"})},handleCheckAllChange:function(e){var t=this.cities.map((function(e){return e.id}));this.lang=e?t:[];var r=this.cities.map((function(e){return e.name}));this.CName=e?r:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},onSubmit:function(){var e=this,t=this.$createElement;this.$refs.rulesForm2.validate((function(r){if(e.rulesForm.name=e.rulesForm.domain,!r)return e.$notify({title:"请核对表单信息",type:"error",duration:6e3,message:t("b",{style:"color: #fc2828"},"表单数据不完整或者格式有误")}),!1;if(!1===e.checkAll){e.CName=[];for(var a=0;a<e.cities.length;a++)for(var s=0;s<e.lang.length;s++)e.lang[s]===e.cities[a].id&&e.CName.push(e.cities[a].name)}for(var n=0;n<e.ssl1.length;n++)e.ssl3===e.ssl2[n]&&(e.rulesForm.ssl=e.ssl1[n]);e.rulesForm.planname=e.plan1.filter((function(t){return t.id===e.rulesForm.plan}))[0].name,""===e.rulesForm.kf?e.rulesForm.kfname="":e.rulesForm.kfname=e.kf1.filter((function(t){return t.id===e.rulesForm.kf}))[0].username;var o=e.rulesForm,c=o.company,u=o.kfname,m=o.planname,d=o.ywy,p=o.name,f=o.domain,v=o.startTime,h=o.endTime,g=o.note;e.rulesForm.lang=String(e.CName)||"中文";var b=["网站参数确认：","绑定的域名：".concat(f),"服务器选择：".concat(e.serve),"公司名：".concat(c),"业务员：".concat(d),"维护者：".concat(u),"网站套餐：".concat(m),"语种：".concat(e.getlang||"中文"),"合同时间：【".concat(v,"】 - 【").concat(h,"】"),"关键词套餐：".concat(e.rulesForm.seoKeyWords),"备注：".concat(g)],y=[];for(var F in b)y.push(t("p",null,b[F]));var w=t("div",null,y);1===parseInt(e.rulesForm.isTest)&&"企业站"===e.rulesForm.appNameOK?(e.webCreateName="将生成【".concat(f,"】测试站"),e.webCreateNameOK="【".concat(f,"】")):1===parseInt(e.rulesForm.isTest)&&"竞价站"===e.rulesForm.appNameOK?(e.webCreateName="将生成【ztb.net/".concat(p,"】测试站"),e.webCreateNameOK="【ztb.net/".concat(p,"】")):"企业站"===e.rulesForm.appNameOK?(e.webCreateName="将生成【".concat(f,"】企业站"),e.webCreateNameOK="【".concat(f,"】")):(e.webCreateName="将生成【ztb.net/".concat(p,"】竞价站"),e.webCreateNameOK="【ztb.net/".concat(p,"】"));var k="".concat(e.webCreateNameOK,"网站生成失败");e.$confirm(w,e.webCreateName,{dangerouslyUseHTMLString:!1,confirmButtonText:"确定",cancelButtonText:"取消",type:"success"}).then((function(){var r=e;"企业站"===e.rulesForm.appNameOK?r.rulesForm.appName="site":"竞价站"===e.rulesForm.appNameOK&&(r.rulesForm.appName="dirSite");for(var a=0;a<r.serve1.length;a++)r.serve===r.serve1[a]&&(r.rulesForm.hostId=r.hostId1[a]);Object(i["a"])(r.rulesForm).then((function(t){if(0!==t.code)r.errorcode=parseInt(t.code),r.active=88,e.$notify({message:t.msg,title:"错误",duration:1e4,type:"error"});else if(0===t.code){r.active=100;var a={};a.siteid=t.data.id,a.userid=r.rulesForm.kf,""!==a.userid&&Object(l["a"])(a).then((function(t){e.$notify({title:"网站授权",duration:1e4,type:"success",message:"同时将该站点授权给".concat(r.rulesForm.kfname)})})).catch((function(t){console.dir(t),e.loading=!1}))}})).catch((function(){e.$notify({title:"网站生成失败",type:"error",message:t("b",{style:"color: teal"},k)}),e.active=88}))})).catch((function(){e.$notify({title:"网站生成取消",type:"info",message:t("b",{style:"color: teal"},"网站生成已取消")})}))}))},reset:function(){var e=this;Object.keys(this.rulesForm).forEach((function(t){e.rulesForm[t]=""}))},See:function(e){window.open(e)},beforeUpload:function(e){console.log(e);var t=e.name.substring(e.name.lastIndexOf(".")+1),r="zip"===t,a="gz"===t,s=e.size/1024/1024<200;r||a||this.$message({message:"上传文件只能是 zip、gz格式!",type:"warning"}),s||this.$message({message:"上传文件大小不能超过 200MB!",type:"warning"})},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},handleAvatarError:function(e,t){this.$notify({message:"上传失败"})},handleAvatarSuccess:function(e,t){this.$notify({title:"文件\n        ".concat(t.name,"上传成功")})}}},d=m,p=(r("c86a"),r("0c7c")),f=Object(p["a"])(d,a,s,!1,null,"72c7984d",null);t["default"]=f.exports},e25e:function(e,t,r){var a=r("23e7"),s=r("e583");a({global:!0,forced:parseInt!=s},{parseInt:s})},e583:function(e,t,r){var a=r("da84"),s=r("58a8").trim,n=r("5899"),i=a.parseInt,o=/^[+-]?0[Xx]/,l=8!==i(n+"08")||22!==i(n+"0x16");e.exports=l?function(e,t){var r=s(String(e));return i(r,t>>>0||(o.test(r)?16:10))}:i},e58c:function(e,t,r){"use strict";var a=r("fc6a"),s=r("a691"),n=r("50c4"),i=r("b301"),o=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=i("lastIndexOf");e.exports=c||u?function(e){if(c)return l.apply(this,arguments)||0;var t=a(this),r=n(t.length),i=r-1;for(arguments.length>1&&(i=o(i,s(arguments[1]))),i<0&&(i=r+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}:l}}]);