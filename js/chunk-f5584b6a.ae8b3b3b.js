(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5584b6a"],{"26a2":function(e,t,r){"use strict";var a=r("766e"),n=r.n(a);n.a},3547:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-login"},[r("div",{staticClass:"page-login--layer"},[r("div",{staticClass:"page-login--content",attrs:{flex:"dir:top main:justify cross:stretch box:justify"}},[e._m(0),r("div",{staticClass:"page-login--content-main",attrs:{flex:"dir:top main:center cross:center"}},[r("img",{staticClass:"page-login--logo",attrs:{src:"/image/theme/d2/logo/all.png"}}),r("div",{staticClass:"page-login--form"},[r("el-card",{attrs:{shadow:"never"}},[r("el-form",{ref:"loginForm",attrs:{"label-position":"top",rules:e.rules,model:e.formLogin,size:"default"}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text",clearable:"",placeholder:"账号"},model:{value:e.formLogin.username,callback:function(t){e.$set(e.formLogin,"username",t)},expression:"formLogin.username"}},[r("i",{staticClass:"fa fa-user-circle-o",attrs:{slot:"prepend"},slot:"prepend"})])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",clearable:"","show-password":"",placeholder:"密码"},model:{value:e.formLogin.password,callback:function(t){e.$set(e.formLogin,"password",t)},expression:"formLogin.password"}},[r("i",{staticClass:"fa fa-keyboard-o",attrs:{slot:"prepend"},slot:"prepend"})])],1),r("el-form-item",{attrs:{prop:"captcha"}},[r("el-input",{attrs:{type:"text",placeholder:"验证码"},model:{value:e.formLogin.captcha,callback:function(t){e.$set(e.formLogin,"captcha",e._n(t))},expression:"formLogin.captcha"}},[r("template",{slot:"append"},[r("img",{staticClass:"login-code",attrs:{src:e.imgurl},on:{click:e.changeimg}})])],2)],1),r("el-button",{staticClass:"button-login",attrs:{size:"default",type:"primary"},on:{click:e.throttledMethod}},[e._v(" 登录 ")])],1)],1)],1)]),r("div",{staticClass:"page-login--content-footer"})])]),r("el-dialog",{attrs:{title:"快速选择用户(供用户测试)",visible:e.dialogVisible,width:"400px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-row",{staticStyle:{margin:"-20px 0px -10px 0px"},attrs:{gutter:10}},e._l(e.users,(function(t,a){return r("el-col",{key:a,attrs:{span:8}},[r("div",{staticClass:"page-login--quick-user",on:{click:function(r){return e.handleUserBtnClick(t)}}},[r("d2-icon",{attrs:{name:"user-circle-o"}}),r("span",[e._v(e._s(t.name))])],1)])})),1)],1)],1)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-login--content-header"},[r("p",{staticClass:"page-login--content-header-motto"})])}],s=(r("a4d3"),r("4de4"),r("a9e3"),r("e439"),r("dbb4"),r("b64b"),r("5319"),r("159b"),r("ade3")),i=r("6e85"),o=r.n(i),c=r("5880"),l=r("60bb"),m=r.n(l),u=(r("99af"),r("a15b"),{methods:{onChangeLocale:function(e){this.$i18n.locale=e;var t="当前语言：".concat(this.$t("_name")," [ ").concat(this.$i18n.locale," ]");"PREVIEW"===Object({NODE_ENV:"production",VUE_APP_API:"/",VUE_APP_BUILD_TIME:"2022-6-25 23:45:16",VUE_APP_ELEMENT_COLOR:"#409EFF",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_I18N_LOCALE:"zh-chs",VUE_APP_REPO:"https://github.com/d2-projects/d2-admin-start-kit",VUE_APP_TITLE:"开发与测试",VUE_APP_VERSION:"1.8.0",BASE_URL:""}).VUE_APP_BUILD_MODE&&(t=["当前语言：".concat(this.$t("_name")," [ ").concat(this.$i18n.locale," ]"),"仅提供切换功能，没有配置具体的语言数据 ",'文档参考：<a class="el-link el-link--primary is-underline" target="_blank" href="https://d2.pub/zh/doc/d2-admin/locales">《国际化 | D2Admin》</a>'].join("<br/>")),this.$notify({title:"语言变更",dangerouslyUseHTMLString:!0,message:t})}}});function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g={mixins:[u],data:function(){return{timeInterval:null,time:o()().format("HH:mm:ss"),imgurl:"".concat("/","captcha"),dialogVisible:!1,users:[{name:"管理员",username:"管理员",password:"admin236"},{name:"代理商",username:"代理商",password:"admin236"},{name:"业务员",username:"业务员",password:"admin236"}],formLogin:{username:"",password:"",captcha:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],captcha:[{type:"number",required:!0,message:"请输入数字类型的验证码",trigger:"blur"}]}}},created:function(){var e=this;document.onkeydown=function(t){var r=window.event.keyCode;13===r&&e.throttledMethod()}},mounted:function(){var e=this;this.timeInterval=setInterval((function(){e.refreshTime()}),1e3)},beforeDestroy:function(){clearInterval(this.timeInterval)},methods:d({},Object(c["mapActions"])("d2admin/account",["login"]),{refreshTime:function(){this.time=o()().format("HH:mm:ss")},handleUserBtnClick:function(e){this.formLogin.username=e.username,this.formLogin.password=e.password,this.submit()},throttledMethod:m.a.debounce((function(){var e=this;e.submit()}),1e3),submit:function(){var e=this;this.$refs.loginForm.validate((function(t){if(t){var r=e;e.formLogin.captcha=Number(e.formLogin.captcha),e.login(e.formLogin).then((function(){e.$router.replace(e.$route.query.redirect||"/")})).catch((function(){r.changeimg()}))}else e.$message.error("表单校验失败，请检查")}))},changeimg:function(){var e=this.imgurl+"?t="+(new Date).getTime();this.imgurl="",this.imgurl=e}})},f=g,h=(r("26a2"),r("0c7c")),b=Object(h["a"])(f,a,n,!1,null,"95f8c920",null);t["default"]=b.exports},"766e":function(e,t,r){}}]);