(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64ef95e6"],{"17d3":function(e,t,r){"use strict";var o=r("4536"),l=r.n(o);l.a},4536:function(e,t,r){},"5c66":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("d2-container",{attrs:{type:"card"}},[r("template",{slot:"header"},[e._v("服务器添加"),r("br")]),r("div",{staticClass:"form-view"},[r("el-form",{ref:"rulesForm",staticClass:"demo-rulesForm",attrs:{model:e.rulesForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{staticStyle:{"margin-top":"16px"},attrs:{label:"服务器IP",prop:"ip",required:""}},[r("el-input",{attrs:{placeholder:"输入服务器IP(格式：2.3.6.8)"},model:{value:e.rulesForm.ip,callback:function(t){e.$set(e.rulesForm,"ip",t)},expression:"rulesForm.ip"}})],1),r("el-form-item",{attrs:{label:"区域"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择服务器所在的区域"},model:{value:e.rulesForm.region,callback:function(t){e.$set(e.rulesForm,"region",t)},expression:"rulesForm.region"}},e._l(e.region1,(function(e,t){return r("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),r("el-form-item",{attrs:{label:"密码",required:""}},[r("el-input",{attrs:{type:"password","show-password":"",placeholder:"这里填写购买服务器时候设定的密码",autocomplete:"off"},model:{value:e.rulesForm.auth,callback:function(t){e.$set(e.rulesForm,"auth",t)},expression:"rulesForm.auth"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"ckey"}},[r("el-input",{attrs:{type:"password","show-password":"",placeholder:"请再次输入购买服务器时候设定的密码",autocomplete:"off"},model:{value:e.ckey,callback:function(t){e.ckey=t},expression:"ckey"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"note"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.rulesForm.note,callback:function(t){e.$set(e.rulesForm,"note",t)},expression:"rulesForm.note"}})],1),r("el-form-item",[r("el-button",{on:{click:e.reset}},[e._v("重置")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("提交")])],1)],1)],1)],2)},l=[],s=(r("b64b"),r("159b"),r("d6df")),n={data:function(){var e=this,t=function(e,t,r){""===t&&r(new Error("请输入服务器密码"))},r=function(t,r,o){""===r?o(new Error("请再次输入服务器密码")):e.ckey!==e.rulesForm.auth?o(new Error("两次输入服务器密码不一致!")):o()};return{region1:["中国大陆","香港","其他区域"],ckey:"",rulesForm:{ip:"",auth:"",note:"",region:""},rules:{auth:[{validator:t,trigger:"blur"}],ckey:[{validator:r,trigger:"blur"}]}}},mounted:function(){this.$util.authen(["null",0])},methods:{submitForm:function(){var e=this;if(this.rulesForm.auth!==this.ckey)this.$alert("两者的服务器密码不一致，还请修改","服务器密码不一致",{confirmButtonText:"确定",callback:function(t){e.$message({type:"warning",message:"请检查服务器密码"})}});else{var t=this.$createElement,r=this.rulesForm,o=r.region,l=r.ip,n=r.auth,a=r.note,i=["网站参数确认：","服务器IP地址：".concat(l),"服务器所属区域：".concat(o),"服务器密码：".concat(n),"所有者：".concat(this.$util.cookies.get("name")),"备注：".concat(a)],c=[];for(var u in i)c.push(t("p",null,i[u]));var m=t("div",null,c),p="".concat(this.rulesForm.ip,"添加失败"),f="服务器".concat(this.rulesForm.ip,"添加取消"),d="服务器".concat(this.rulesForm.ip,"添加成功");this.$confirm(m,"请确定你要添加的服务器参数",{confirmButtonText:"确定添加",cancelButtonText:"取消添加",type:"success"}).then((function(){e.rulesForm.owner=e.$util.cookies.get("name"),Object(s["a"])(e.rulesForm).then((function(){e.$notify({title:"服务器添加成功",type:"success",duration:0,message:t("b",{style:"color: teal"},d)})})).catch((function(){e.$notify({title:"服务器添加失败",type:"error",message:t("b",{style:"color: teal"},p)})}))})).catch((function(){e.$notify({title:"服务器添加取消",type:"info",message:t("b",{style:"color: teal"},f)})}))}},reset:function(){var e=this;Object.keys(this.rulesForm).forEach((function(t){e.rulesForm[t]=""})),this.region1=["中国大陆","香港","其他区域"]}}},a=n,i=(r("17d3"),r("0c7c")),c=Object(i["a"])(a,o,l,!1,null,null,null);t["default"]=c.exports},d6df:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var o=r("9bd2");function l(e){return Object(o["a"])({url:"/node/addNode",method:"post",data:e})}}}]);